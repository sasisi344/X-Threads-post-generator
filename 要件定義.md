# システム要件定義書: Blog to SNS Post Generator

## 1. 概要
ブログ記事のURLを入力すると、その記事内容を解析し、X（旧Twitter）用とThreads用の投稿文案を自動生成するWebアプリケーション。Dockerコンテナとして動作する。

## 2. 技術スタック
- **言語**: Python 3.9+
- **FW**: Streamlit (UI/Frontend)
- **AI Model**: Google Gemini 1.5 Pro (via `google-generativeai`)
- **Web Scraper**: Jina Reader API (URL to Markdown)
- **Environment**: Docker / Docker Compose

## 3. 機能要件
### 3.1 ユーザーインターフェース (UI)
- **入力フォーム**: 対象のブログ記事URLを入力するテキストフィールド。
- **実行ボタン**: 「投稿を作成する」ボタン。
- **出力表示**: 画面を2カラムに分割し、左側に「X用ポスト」、右側に「Threads用ポスト」を表示する。各テキストエリアはコピーしやすい形式にする。
- **設定**: サイドバー、または`.env`ファイルから `GEMINI_API_KEY` を設定可能にする。

### 3.2 バックエンド処理
1. **記事取得**:
   - ユーザーが入力したURLを `https://r.jina.ai/{url}` 形式でリクエストし、Markdownテキストを取得する。
   - エラーハンドリング（無効なURL、タイムアウト）を実装する。
2. **文章生成 (LLM)**:
   - 取得したMarkdownをGemini APIに渡す。
   - プロンプトにて「X用（140字以内、箇条書き、結論ファースト）」と「Threads用（400字程度、共感、ストーリー重視）」の2種類を同時に生成させる。
   - 出力はJSON形式（`{"x_post": "...", "threads_post": "..."}`）で受け取り、パースする。

## 4. 非機能要件
- **Docker化**: `Dockerfile` を作成し、ワンコマンドでビルド・起動ができること。
- **軽量性**: ベースイメージは `python:3.9-slim` を使用。